{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "github>red-hat-data-services/konflux-central//renovate/default-renovate.json"
  ],
  "customManagers": [
    {
      "customType": "regex",
      "managerFilePatterns": [
        "konflux/cpu-ubi9.conf"
      ],
      "matchStrings": [
        "BASE_IMAGE=(?<depName>.*):(?<currentValue>.*)"
      ],
      "depNameTemplate": "quay.io/aipcc/base-images/cpu",
      "datasourceTemplate": "docker",
      "versioningTemplate": "redhat"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "konflux/cpu-ubi9.conf"
      ],
      "matchStrings": [
        "LLAMA_STACK_VERSION=(?<currentValue>.*)"
      ],
      "datasourceTemplate": "pypi",
      "depNameTemplate": "llama-stack",
      "versioningTemplate": "pep440"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "konflux/cpu-ubi9.conf"
      ],
      "matchStrings": [
        "WHEEL_RELEASE_AARCH64=(?<currentValue>.*)"
      ],
      "datasourceTemplate": "gitlab-releases",
      "depNameTemplate": "redhat/rhel-ai/llama-stack/pipeline",
      "versioningTemplate": "regex:^(?P<major>\\d+)\\.(?P<minor>\\d+)\\.(?P<patch>\\d+)\\+llama-stack-cpu-ubi9-aarch64"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "konflux/cpu-ubi9.conf"
      ],
      "matchStrings": [
        "WHEEL_RELEASE_X86_64=(?<currentValue>.*)"
      ],
      "datasourceTemplate": "gitlab-releases",
      "depNameTemplate": "redhat/rhel-ai/llama-stack/pipeline",
      "versioningTemplate": "regex:^(?P<major>\\d+)\\.(?P<minor>\\d+)\\.(?P<patch>\\d+)\\+llama-stack-cpu-ubi9-x86_64"
    }
  ],
  "baseBranches": [
    "main"
  ],
  "packageRules": [
    {
      "matchPackageNames": [
        "redhat/rhel-ai/llama-stack/pipeline"
      ],
      "allowedVersions": "/^0\\..*$/",
      "matchBaseBranches": [
        "main"
      ]
    },
    {
      "matchPackageNames": [
        "/^quay\\.io/aipcc/base-images/.*$/"
      ],
      "allowedVersions": "/^3\\..*$/",
      "matchBaseBranches": [
        "main"
      ]
    }
  ],
  "ignorePaths": [
    ".gitlab-ci.yml"
  ],
  "gitlabci": {
    "enabled": false
  },
  "git-submodules": {
    "enabled": false
  },
  "cloneSubmodules": false
}

